<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>昱</title>

</head>
<style type="text/css">
#menuDiv{
	position:absolute;
	width:100px;
	height:80px;
	background-color:gray;
	z-index:2;
	display:none;
}

#divId{
	width:300px;
	height:200px;
	background-color:red;
}
</style>
<script type="text/javascript">
	window.onload = function(){
		document.oncontextmenu = function(){
			return false;
		}
		
		document.getElementById("divId").onmousedown=function(event){
			showUserMenu(event);
		}
		
		document.body.onclick=function(){
			hiddenUserMenu();
		}
		
		function hiddenUserMenu(){
			var menuDiv = document.getElementById("menuDiv");
			menuDiv.style.display = "none";
		}
		
		function showUserMenu(event){
			if(event.button=="2"){
				var menuDiv = document.getElementById("menuDiv");
				menuDiv.style.display = "block";
				menuDiv.style.left = event.clientX+"px";
				menuDiv.style.top = event.clientY+"px";
			}
		}
	}
</script>

<body >
	<div id="divId" >
	</div>
	<div id="menuDiv">
		<ul >
			<li>菜单1</li>
			<li>菜单2</li>
			<li>菜单3</li>
		</ul>
	</div>

<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</body>

</html>