<!doctype html>
<html>
	<head>
		<title></title>
		<meta charset = "utf-8"/>
		<style type="text/css">
			*{margin:0; padding:0;}
			a{text-decoration:none;}
			#box1{margin-left:500px; height:174px; overflow:hidden;}
			#f{margin-left:500px;}
			#stuInfo td{height:30px;}
			#box2{width:100%; height:100%; position:absolute;left:0; top:0; background:#000; filter:alpha(opacity=50); opacity:0.5; display:none;}
			#box3{width:400px; height:250px; background:#fff; position:relative; left:35%; top:40%;padding-top:10px;}
			#userName{width:300px;margin-right:30px;}
			#gettxt{width:300px; margin-left:60px; height:140px; border:1px solid black; display:block; margin-right:50px;}
			#biaoti{text-align:center; margin:5px 0;}
			#an1{margin-left:60px;float:left;}
			#an2{margin-left:230px;}
			a{color:red;}
		</style>
	</head>
<script type="text/javascript" src="tools.js"></script>
<script type="text/javascript">
	// 页面有个表格，表格里有五条帖子。
	
	// 在页面上有发布帖子的按钮
	
	// 点击按钮弹出一个子窗口，窗口必须使用DIV来模拟
	
	// 弹出窗口要有标题栏，弹出窗口要有关闭按钮，点击关闭窗口。
	
	// 窗口底部要有半透明的遮罩层，使得主页面暂时无法操作。
	
	// 输入内容后点击确定，关闭弹出窗口和遮罩层，将输入框中的内容追加到表格里.
	
	
	//1、 点击打开窗口。
	function opennew(){
		document.getElementById("box2").style.display = "block";
		document.getElementById("gettxt").value = "";
		document.getElementById("userName").value = "";
	}
	//2、 点击关闭窗口。
	function closewindow(){
		document.getElementById("box2").style.display = "none";
	}
	//3、 点击确认，帖子发布到表格中，且关闭窗口。
	function getincontact(){
		//1、 获取窗口中的文本内容/
		var contact = document.getElementById("gettxt").value;
		var userName = document.getElementById("userName").value;
		//2、 如果未添加文本内容，则不输入到表格中。
		if(contact == "" || userName == ""){
			alert("请输入内容或关闭窗口！");
			return;
		}
		//3、 获取tbody/
		var tbody=document.getElementById("stuInfo").childNodes[0];
		//4、 创建一个tr，td，文本节点。
		var trObj = document.createElement("tr");
		var tdObj = document.createElement("td");
		var aObj = document.createElement("a");
		var contactTextNode = document.createTextNode(":"+contact);
		var userTextNode = document.createTextNode(userName);
		
		
		aObj.href = "#";
		aObj.innerHTML = userName;
		//5、 把元素插入到tr中。
		tdObj.appendChild(aObj);
		tdObj.appendChild(contactTextNode);
		
		trObj.appendChild(tdObj);
		topold = tbody.childNodes[0];
		tbody.insertBefore(trObj,topold);
		document.getElementById("box2").style.display = "none";
	}
</script>
<body>
	<div id="box1">
		<table id="stuInfo" width="400px"  border="1" style="margin-top:0;"><tr>
		<td><a href="#">袁帅</a>:第一条帖子</td>
	  </tr>
	  <tr>
		<td><a href="#">李狗蛋</a>:第二条帖子</td>
	  </tr>
	  <tr>
		<td><a href="#">李狗蛋</a>:第三条帖子</td>
	  </tr>
	  <tr>
		<td><a href="#">李狗蛋</a>:第四条帖子</td>
	  </tr>
	  <tr>
		<td><a href="#">李狗蛋</a>:第五条帖子</td>
	  </tr>
	</table>
	</div>
	<form name="f" id="f">
		<input type="button" value="发布帖子" onclick="opennew()">
	</form>
	<div id="box2">
		<div id="box3" >
			<form>
				<p id="biaoti">发表帖子</p>
				用户名：<input type="text" id="userName"/>
				内容：<textarea id="gettxt" name="textareal"></textarea>
				<input type="button" id="an1" value="确定" onclick="getincontact()" />
				<input type="button" id="an2" value="关闭" onclick="closewindow()"/>
			</form>
		</div>
	</div>
</body>
</html>